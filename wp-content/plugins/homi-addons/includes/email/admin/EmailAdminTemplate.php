<?php


class EmailAdminTemplate
{

    /**
     * @param $action_type string
     * @param $request ViewingRequest | ValuationRequest
     * @return string
     */
    public function get_template( $action_type, $request ){

        ob_start();

        ?>

        <div id="m_-5385044607299061000ac-designer" class="m_-5385044607299061000body" style="font-family:Arial;line-height:1.1;margin:0px;background-color:#cce0ff;width:100%;text-align:center">
            <div style="display:none;padding:0;height:1px;font-size:1px;background-color:inherit!important;color:inherit!important;line-height:1px">
                Notification Email
            </div>
            <div style="margin:0px;outline:none;padding:0px;color:#000000;font-family:arial;line-height:1.1;width:100%;background-color:#cce0ff;background:#cce0ff;text-align:center">
                <table style="font-size:14px;min-width:auto;background-color:#cce0ff;background:#cce0ff" width="100%" cellspacing="0" cellpadding="0" border="0" align="left">
                    <tbody>
                    <tr>
                        <td width="100%" valign="top" align="center">
                            <table style="font-size:14px;min-width:auto;max-width:650px" width="650" cellspacing="0" cellpadding="0" border="0" bgcolor="#cce0ff">
                                <tbody>
                                <tr>
                                    <td id="m_-5385044607299061000layout_table_02edd3057a166be45b4181a5918f1719a6b5beb0" style="background-color:#ffffff" width="650" valign="top" align="center">
                                        <table style="font-size:14px;min-width:100%;background-color:#ffffff" width="650" cellspacing="0" cellpadding="0" border="0">
                                            <tbody>
                                            <tr style="background-color:#ffffff">
                                                <td id="m_-5385044607299061000layout-row-margin1193" style="padding:0;background-color:#ffffff" valign="top">
                                                    <table style="font-size:14px;min-width:100%;border-collapse:initial!important" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                        <tbody>
                                                        <tr id="m_-5385044607299061000layout-row1193">
                                                            <td id="m_-5385044607299061000layout-row-padding1193" style="padding:0" valign="top">
                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td valign="top" height="30">
                                                                            <div style="margin:0;outline:none;padding:0;height:30px">
                                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                                    <tbody>
                                                                                    <tr>
                                                                                        <td style="background-color:#cce0ff" width="650" valign="top" height="30">&nbsp;</td>
                                                                                    </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr style="background-color:#ffffff">
                                                <td id="m_-5385044607299061000layout-row-margin1181" style="padding:0px;background-color:#ffffff" valign="top">
                                                    <table style="font-size:14px;min-width:100%;border-collapse:initial!important" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                        <tbody>
                                                        <tr id="m_-5385044607299061000layout-row1181" style="background-color:#045fb4" align="center">
                                                            <td id="m_-5385044607299061000layout-row-padding1181" style="background-color:#045fb4;padding:7px" valign="top">
                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td width="636" valign="top" align="center">
                                                                            <a style="margin:0;outline:none;padding:0;color:#045fb4;display:block;min-width:100%" target="_blank" data-saferedirecturl="https://www.google.com/url?q=https://homi.acemlnc.com/lt.php?notrack%3D1%26s%3D66f8b3adaac660033ea1e3f2f6fe87ac%26i%3D65A427A0A502&amp;source=gmail&amp;ust=1591775943951000&amp;usg=AFQjCNEv0W1bBB9tiPqVzJt0PHYpn8zZOA" href="https://homi.com.gr/el/">
                                                                                <img src="https://ci3.googleusercontent.com/proxy/Vv1e0MF7qCBrYiB25-Uhu1ZjETPPlFPYCBu7LjwrTk81lIspiosUlNVs8OzDAp7KQXcNnx_Ikf66YIFQZIpYFxmWBZNT6FN9_5bXzHyPmoYDbvtQB2uoSV8vCVVA70Cvz1NdOQ=s0-d-e1-ft#https://homi.imgus11.com/public//3db214c35e4a1e4c80f1c80ce920183b.png?r=800468936" alt="" style="border:none;display:block;outline:none;width:128px;opacity:1;max-width:100%" class="CToWUd" width="128">
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr style="background-color:#ffffff">
                                                <td id="m_-5385044607299061000layout-row-margin1188" style="padding:0px;background-color:#ffffff" valign="top">
                                                    <table style="font-size:14px;min-width:100%;border-collapse:initial!important" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                        <tbody>
                                                        <tr id="m_-5385044607299061000layout-row1188" style="margin:0;padding:0;background-color:#e2e5eb">
                                                            <td id="m_-5385044607299061000layout-row-padding1188" style="background-color:#e2e5eb;padding:20px 0px 20px 0px" valign="top">
                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td id="m_-5385044607299061000text_div1119" style="margin:0;outline:none;padding:0;color:inherit;font-size:12px;font-weight:inherit;line-height:1;text-decoration:inherit;font-family:Arial" width="650" valign="top" align="left">
                                                                            <div style="margin:0;outline:none;padding:0;font-size:25px;color:#ffffff;font-family:arial,helvetica,sans">
                                                                                <div style="margin:0;outline:none;padding:0"></div>
                                                                                <div style="margin:0;outline:none;padding:0;color:#1259af;font-family:arial,helvetica,sans;font-weight:700;font-size:25px;text-align:center">
                                                                                    <span style="color:#1259af;font-size:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit">
                                                                                        <span style="color:#1259af;font-size:25px;font-weight:700;line-height:inherit;text-decoration:inherit;font-family:arial,helvetica,sans;font-style:normal">
                                                                                            <?php echo $request->property_address; ?>
                                                                                        </span>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr id="emailBody">
                                                <td>
                                                    <table class="emailInfo" style="font-size: 13px;margin: 20px 15px;width: 100%;">
                                                        <tbody>
                                                        <tr>
                                                            <td>
                                                                <strong style="display: block;margin: 5px 2px;color: #045fb4;">Deal Details</strong>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="border-bottom: 1px solid #e5e5e5;padding-bottom: 20px;">
                                                                <table style="font-size: 13px;line-height: 20px;">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Deal Type:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo EmailActionsConstants::EMAIL_ACTIONS[ $action_type ]; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Deal Status:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->status; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Viewing Date:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->date; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Viewing time:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->time; ?>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <strong style="display: block;margin: 20px 2px 5px;color: #045fb4;">Landlord details</strong>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="border-bottom: 1px solid #e5e5e5;padding-bottom: 20px;">
                                                                <table style="font-size: 13px;line-height: 20px;">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Name:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->landlord->first_name; ?> <?php echo $request->landlord->last_name; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Phone:
                                                                        </td>
                                                                        <td>
                                                                            <a href="tel:<?php echo $request->landlord->phone; ?>">
                                                                                <?php echo $request->landlord->phone; ?>
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Email:
                                                                        </td>
                                                                        <td>
                                                                            <a href="mailto:<?php echo $request->landlord->email; ?>">
                                                                                <?php echo $request->landlord->email; ?>
                                                                            </a>

                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>

                                                                <strong style="display: block;margin: 20px 2px 5px;color: #045fb4;">Property details</strong>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="border-bottom: 1px solid #e5e5e5;padding-bottom: 20px;">
                                                                <table style="font-size: 13px;line-height: 20px;">
                                                                    <tbody>

                                                                    <?php if( !empty( $request->property_suburb ) ): ?>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Suburb:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->property_suburb; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Postcode:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->property_post_code; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Street:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->property_street; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Number:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->property_number; ?>
                                                                        </td>
                                                                    </tr>

                                                                    <?php else: ?>
                                                                        <tr>
                                                                            <td style="color: #666;">
                                                                                Address:
                                                                            </td>
                                                                            <td>
                                                                                <?php echo $request->property_address; ?>
                                                                            </td>
                                                                        </tr>
                                                                    <?php endif; ?>
                                                                    <?php if( !empty( $request->property_link ) ): ?>
                                                                        <tr>
                                                                            <td style="color: #666;">
                                                                                URL:
                                                                            </td>
                                                                            <td>
                                                                                <a href="<?php echo $request->property_link; ?>">
                                                                                    <?php echo $request->property_link; ?>
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                    <?php endif; ?>
                                                                    <?php if( !empty( $request->property_title ) ): ?>
                                                                    <tr>
                                                                        <td style="color: #666;">
                                                                            Title:
                                                                        </td>
                                                                        <td>
                                                                            <?php echo $request->property_title; ?>
                                                                        </td>
                                                                    </tr>
                                                                    <?php endif; ?>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>

                                                        <?php if( $request instanceof ViewingRequest ): ?>

                                                            <?php

                                                            /**
                                                             * @var ValuationRequest $request
                                                             */
                                                            ?>

                                                            <tr>
                                                                <td>
                                                                    <strong style="display: block;margin: 20px 2px 5px;color: #045fb4;">Viewer details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <table style="font-size: 13px;line-height: 20px;">
                                                                        <tbody>
                                                                        <tr>
                                                                            <td style="color: #666;">
                                                                                Name:
                                                                            </td>
                                                                            <td>
                                                                                <?php echo $request->viewer->first_name; ?> <?php echo $request->viewer->last_name; ?>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="color: #666;">
                                                                                Phone:
                                                                            </td>
                                                                            <td>
                                                                                <a href="tel:<?php echo $request->viewer->phone; ?>">
                                                                                    <?php echo $request->viewer->phone; ?>
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="color: #666;">
                                                                                Email:
                                                                            </td>
                                                                            <td>
                                                                                <a href="mailto:<?php echo $request->viewer->email; ?>">
                                                                                    <?php echo $request->viewer->email; ?>
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </td>
                                                            </tr>

                                                        <?php endif; ?>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <a href="<?php echo get_edit_post_link( $request->ID ); ?>" style="background-color: #1259af;color: #fff;padding: 15px;display: block;width: 150px;text-align: center;margin: 0 auto 20px;text-decoration: none;font-weight: 700;">
                                                        View Request
                                                    </a>
                                                </td>
                                            </tr>

                                            <tr style="background-color:#ffffff">
                                                <td id="m_-5385044607299061000layout-row-margin1183" style="padding:0;background-color:#ffffff" valign="top">
                                                    <table style="font-size:14px;min-width:100%;border-collapse:initial!important" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                        <tbody>
                                                        <tr id="m_-5385044607299061000layout-row1183" style="margin:0;padding:0;background-color:#1259af">
                                                            <td id="m_-5385044607299061000layout-row-border1183" style="border-color:#ffffff;border-style:solid;border-width:1px" valign="top">
                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td id="m_-5385044607299061000layout-row-padding1183" style="background-color:#1259af;padding:20px 26px 20px 26px" valign="top">
                                                                            <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td id="m_-5385044607299061000text_div1114" style="margin:0;outline:none;padding:0;color:inherit;font-size:12px;font-weight:inherit;line-height:1;text-decoration:inherit;font-family:Arial" width="596" valign="top" align="left">
                                                                                        <div style="margin:0;outline:none;padding:0;color:#ffffff">
                                                                                            <div style="margin:0;outline:none;padding:0;color:#ffffff">
                                                                                                <p style="margin:0;outline:none;padding:0;color:#ffffff;font-size:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit;text-align:center">
                                                                                                    <span style="color:#ffffff;font-size:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit">
                                                                                                        <span style="color:#ffffff;font-size:12px;font-weight:400;line-height:inherit;text-decoration:inherit;font-family:arial;font-style:normal">
                                                                                                            This email is a notification sent automatically upon a deal action
                                                                                                        </span>
                                                                                                        <br>
                                                                                                    </span>
                                                                                                </p>
                                                                                            </div>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr style="background-color:#ffffff">
                                                <td id="m_-5385044607299061000layout-row-margin1184" style="padding:0;background-color:#ffffff" valign="top">
                                                    <table style="font-size:14px;min-width:100%;border-collapse:initial!important" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                        <tbody>
                                                        <tr id="m_-5385044607299061000layout-row1184" style="margin:0;padding:0;background-color:#1259af">
                                                            <td id="m_-5385044607299061000layout-row-border1184" style="border-color:#ffffff;border-style:solid;border-width:1px" valign="top">
                                                                <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                    <tbody>
                                                                    <tr>
                                                                        <td id="m_-5385044607299061000layout-row-padding1184" style="background-color:#1259af;padding:20px 26px 20px 20px" valign="top">
                                                                            <table style="font-size:14px;min-width:100%" width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                                <tbody>
                                                                                <tr>
                                                                                    <td id="m_-5385044607299061000text_div1115" style="margin:0;outline:none;padding:0;color:inherit;font-size:12px;font-weight:inherit;line-height:1;text-decoration:inherit;font-family:Arial" width="602" valign="top" align="left">
                                                                                        <div style="margin:0;outline:none;padding:0;color:#ffffff">
                                                                                            <div style="margin:0;outline:none;padding:0;color:#ffffff">
                                                                                                <div style="margin:0;outline:none;padding:0;text-align:center;color:#ffffff">
                                                                                                    <span style="color:#ffffff;font-size:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit">
                                                                                                        <span style="color:#ffffff;font-size:12px;font-weight:normal;line-height:inherit;text-decoration:inherit;font-family:arial;font-style:normal">Copyright © 2020 </span>
                                                                                                        <a style="margin:0;outline:none;padding:0;color:#ffffff;text-decoration:underline" target="_blank" data-saferedirecturl="https://www.google.com/url?q=https://homi.acemlnc.com/lt.php?notrack%3D1%26s%3D66f8b3adaac660033ea1e3f2f6fe87ac%26i%3D65A427A0A502&amp;source=gmail&amp;ust=1591775943952000&amp;usg=AFQjCNEDjMPsp0OuGTwDDVHCW4WtLtB_Cg" href="https://homi.com.gr/el/">
                                                                                                            <span style="color:#ffffff;font-size:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit">
                                                                                                                <span class="il">homi</span>.com.gr
                                                                                                            </span>
                                                                                                        </a>
                                                                                                    </span>
                                                                                                    <br style="color:#ffffff">
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                    </tbody>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <img src="https://ci3.googleusercontent.com/proxy/53bjLjxD28Jwn5UAPW_RjhaI8SR-n0bElzTP8zUTrFkwmO6S_iMDQz3OAcPEpgmHnYovmcD5xRvC-Ye8jAucplqYQ3_P6epdiAbCDtd2YPxqLFdtmESbI09x3pZ_e95hh4IVlwfOceFBJEXz8NFMfVdRTbTttA=s0-d-e1-ft#https://homi.acemlnc.com/lt.php?notrack=1&amp;nl=0&amp;c=65&amp;m=427&amp;s=66f8b3adaac660033ea1e3f2f6fe87ac&amp;l=open" style="display:block;width:1px!important;min-width:1px!important;max-width:1px!important;height:1px!important;border:0;overflow:hidden" class="CToWUd" width="1" height="1" border="0">


        </div>

        <?php

        return ob_get_clean();

    }

}
